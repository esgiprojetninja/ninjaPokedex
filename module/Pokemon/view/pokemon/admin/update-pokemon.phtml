<?php if ( $this->pokemon != null ) :?>
    <h1>Update pokemon</h1>
    <?php $poke = $this->pokemon;?>

    <?php if ( (bool) count($this->messages) ) : ?>
    <ul class="messages">
        <?php foreach ($this->messages as $msg): ?>
        <li><?= $msg ?></li>
        <?php endforeach; ?>
    </ul>
    <?php endif; ?>

    <?php
        $form = $this->form;
        $form->prepare();
        echo $this->form()->openTag($form); //<form method="post">
    ?>
    <div class="form-group">
        <?= $this->formRow($form->get('poke_name')->setValue($poke->getName())); ?>
    </div>
    <div class="form-group">
        <?php
            $form_img = $form->get('poke_image');
            echo $form_img->getLabel();
            // $form_img->setAttribute('src', $poke->getImage());
            echo $this->formFile($form_img);
            // echo $this->formImage($form_img);
        ?>
    </div>
    <div class="form-group">
        <?php
            $parent_id_input = $form->get('poke_id_parent');
            if ( (bool) (int) ($poke->getIdParent()) )
                $parent_id_input->setValue($poke->getIdParent());

            $this->formRow($parent_id_input);
        ?>
    </div>
    <div class="form-group">
        <?= $this->formRow($form->get('poke_description')->setValue($poke->getDescription())); ?>
    </div>
    <div class="form-group">
        <?= $this->formCollection($form->get('poke_type1')); ?>
    </div>
    <div class="form-group">
        <?= $this->formCollection($form->get('poke_type2')); ?>
    </div>
    <div class="form-group">
        <?= $this->formRow($form->get('poke_id_national')->setValue($poke->getIdNational())); ?>
    </div>
    <?= $this->formHidden($form->get('csrf')); ?>
    <?= $this->formSubmit($form->get('submit')); ?>
    <?= $this->form()->closeTag();?>
<?php else: ?>
    <h1>No matched pokemon</h1>
<?php endif; ?>
